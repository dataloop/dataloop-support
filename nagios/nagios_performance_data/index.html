<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="support@dataloop.io">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Nagios performance data - Dataloop Support</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Nagios performance data";
    var mkdocs_page_input_path = "nagios/nagios_performance_data.md";
    var mkdocs_page_url = "/nagios/nagios_performance_data/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Dataloop Support</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Account model</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../account_model/backup_restore/">Backup restore</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../account_model/overview/">Overview</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../account_model/private_packs/">Private packs</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Agent</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/command_line_interface/">Command line interface</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/config_management/">Config management</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/configuration/">Configuration</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/fingerprints/">Fingerprints</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/installation_docker/">Installation docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/installation_linux/">Installation linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/installation_raspberry_pi/">Installation raspberry pi</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/installation_windows/">Installation windows</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/solo_mode/">Solo mode</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/supported_operating_systems/">Supported operating systems</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../agent/uninstall/">Uninstall</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Alerting</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../alerting/agent_alerts/">Agent alerts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../alerting/metric_alerts/">Metric alerts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../alerting/plugin_alerts/">Plugin alerts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../alerting/rules/">Rules</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../alerting/webhook/">Webhook</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Dashboards</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dashboards/annotations/">Annotations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dashboards/grafana/">Grafana</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dashboards/graph_widgets/">Graph widgets</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dashboards/numeric_widgets/">Numeric widgets</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dashboards/public_dashboards/">Public dashboards</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dashboards/troubleshooting/">Troubleshooting</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Endpoints</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/collectd/">Collectd</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/graphite/">Graphite</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/hosted_statsd/">Hosted statsd</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/influxdb/">Influxdb</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/self-hosted_statsd/">Self hosted statsd</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/self-hosted_statsite/">Self hosted statsite</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/statsd/">Statsd</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../endpoints/statsd_clients/">Statsd clients</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Getting started</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/API/">API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/command_line_utility/">Command line utility</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/data_retention_policy/">Data retention policy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/faq/">Faq</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/getting_help/">Getting help</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/overview/">Overview</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/roadmap/">Roadmap</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/security/">Security</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/use_cases/">Use cases</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/where_we_fit/">Where we fit</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Integrations</span></li>

        
            
    <ul class="subnav">
    <li><span>Thirdparty</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../integrations/thirdparty/aws/">Aws</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Webhook</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../integrations/webhook/bigpanda/">Bigpanda</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../integrations/webhook/hipchat/">Hipchat</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../integrations/webhook/opsgenie/">Opsgenie</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../integrations/webhook/pagerduty/">Pagerduty</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../integrations/webhook/slack/">Slack</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../integrations/webhook/victorops/">Victorops</a>
        
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Nagios</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../built_in_python/">Built in python</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Nagios performance data</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#nagios-performance-data">Nagios Performance Data</a></li>
                
                    <li><a class="toctree-l4" href="#the-full-specification">The full specification</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../nagios_plugins/">Nagios plugins</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../plugin_deployment_models/">Plugin deployment models</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../powershell/">Powershell</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../prometheus_plugins/">Prometheus plugins</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Dataloop Support</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Nagios &raquo;</li>
        
      
    
    <li>Nagios performance data</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/dataloop/dataloop-support/edit/master/docs/nagios/nagios_performance_data.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="nagios-performance-data">Nagios Performance Data</h1>
<p>You can create, edit, run / test and deploy Nagios format check scripts in any language from within the Dataloop web interface. This is unique to Dataloop and we believe this is the secret sauce that enables adoption.</p>
<p>For performance data we adhere to the full spec listed <a href="https://nagios-plugins.org/doc/guidelines.html#AEN200">here</a> (the relevant bit copied below)</p>
<p>We support the absolute minimum in terms of what you can get away with and still have us graph the output. The following is a perfectly legitimate bash script that would graph properly if you used it in Dataloop:</p>
<pre><code>#!/bin/bash

echo &quot;OK | something=$RANDOM&quot;
</code></pre>

<p>We graph everything after the pipe <code>|</code> symbol. You could even add a space after <code>something=$RANDOM</code> and add another <code>whatever=value</code>.</p>
<p>If you deployed this via drag and drop to some agents and wait 30 seconds (our default script interval) then you'll see 'something' and 'whatever' appear as metrics in the dashboard side panel and in the rules criteria metrics drop down.</p>
<p>Obviously in your scripts you will want to build up the performance data string so that it includes metrics worth graphing. If you have metrics that can be grouped our advice is to use dots to separate. For instance:</p>
<pre><code>OK | load.load1min=1234;;;; load.load5min=1234;;;; load.load15min=1234;;;;
</code></pre>

<p>We do some cool stuff in the Dataloop UI to group on dots.</p>
<h2 id="the-full-specification">The full specification</h2>
<p>Nagios 3 and newer will concatenate the parts following a <code>|</code> in a) the first line output by the plugin, and b) in the second to last line, into a string it passes to whatever performance data processing it has configured. (Note that it currently does not insert additional whitespace between both, so the plugin needs to provide some to prevent the last pair of a) and the first of b) getting run together.) Please refer to the Nagios documentation for information on how to configure such processing. However, it is the responsibility of the plugin writer to ensure the performance data is in a "Nagios Plugins" format.</p>
<p>This is the expected format: </p>
<pre><code>'label'=value[UOM];[warn];[crit];[min];[max]
</code></pre>

<h3 id="notes">Notes:</h3>
<ol>
<li>space separated list of label/value pairs </li>
<li>label can contain any characters except the equals sign or single quote (') </li>
<li>the single quotes for the label are optional. Required if spaces are in the label </li>
<li>label length is arbitrary, but ideally the first 19 characters are unique (due to a limitation in RRD). Be aware of a limitation in the amount of data that NRPE returns to Nagios </li>
<li>to specify a quote character, use two single quotes </li>
<li>warn, crit, min or max may be null (for example, if the threshold is not defined or min and max do not apply). Trailing unfilled semicolons can be dropped </li>
<li>min and max are not required if UOM=% </li>
<li>value, min and max in class [-0-9.]. Must all be the same UOM. value may be a literal "U" instead, this would indicate that the actual value couldn't be determined </li>
<li>warn and crit are in the range format (see the Section called Threshold and ranges). Must be the same UOM </li>
<li>UOM (unit of measurement) is one of: <ul>
<li>no unit specified - assume a number (int or float) of things (eg, users, processes, load averages) </li>
<li>s - seconds (also us, ms) </li>
<li>% - percentage </li>
<li>B - bytes (also KB, MB, TB) </li>
<li>c - a continous counter (such as bytes transmitted on an interface)</li>
</ul>
</li>
</ol>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../nagios_plugins/" class="btn btn-neutral float-right" title="Nagios plugins">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../" class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>© Dataloop 2017</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dataloop/dataloop-support" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../nagios_plugins/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
